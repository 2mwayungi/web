if (self.CavalryLogger) { CavalryLogger.start_js(["WCXl1"]); }

__d("HostnameRewriter",["URI","isFacebookURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},h=null,i=null,j=new RegExp("^(.*(?:channel-proxy|edge-chat).*)\\.(facebook\\.com)$","i"),k=new RegExp("facebook\\.com$"),l=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),m=null,n="facebook.com",o=!1,p=!1,q=new RegExp("facebookcorewwwi\\.onion$"),r=new RegExp("facebookcorewwwi\\.testonion$"),s=new RegExp("fbcdn\\.net$"),t="fbcdn23dssr3jqnq.onion",u="fbcdn23dssr3jqnq.testonion",v=new RegExp("^www\\.");function w(a){h=null;a?a="(^|\\.)":a="^";m=a+g(n)+"$";i=null}function x(){if(!m)return null;if(h)return h;h=new RegExp(m,"i");return h}function y(){if(i)return i;i=new RegExp("(^|\\.)("+g(n)+"|facebook\\.com)$","i");return i}function z(){return function(a){a=new(b("URI"))(a);var c=j.exec(a.getDomain());if(!c||c.length<3)return a;a.setDomain("edge-chat."+c[2]);return a}}function A(){return function(a){a=new(b("URI"))(a);y().test(a.getDomain())&&a.setProtocol("https");return a}}function B(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();y().test(c)?a.setDomain(c.replace(k,n)):o&&c!==null?a.setDomain(c.replace(s,t)):p&&c!==null&&a.setDomain(c.replace(s,u));return a}}function C(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();l.test(c)&&a.setDomain(c.replace(v,"web."));return a}}a={registerFacebookFilters:function(a,c){n=a,o=q.test(n),p=r.test(n),w(c),b("isFacebookURI").setRegex(x()),b("URI").registerFilter(z()),b("URI").registerFilter(A()),b("URI").registerFilter(B()),b("lowerFacebookDomain").setDomain(n)},registerInternetDotOrgFilters:function(a,c){n=a,b("URI").registerFilter(C())}};e.exports=a}),null);
__d("legacy:Pager",["Pager"],(function(a,b,c,d,e,f){a.Pager=b("Pager")}),3);